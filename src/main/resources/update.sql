-- 首先删除所有附件的路径，设置为空
UPDATE posts SET attachment = '' WHERE attachment IS NOT NULL;

-- 调整帖子时间为合理的分布（从近一个月到现在）
UPDATE posts SET created_at = '2025-12-01 09:30:00' WHERE id = 1;
UPDATE posts SET created_at = '2025-12-03 14:20:00' WHERE id = 2;
UPDATE posts SET created_at = '2025-12-05 11:15:00' WHERE id = 3;
UPDATE posts SET created_at = '2025-12-07 16:40:00' WHERE id = 4;
UPDATE posts SET created_at = '2025-12-09 10:05:00' WHERE id = 5;
UPDATE posts SET created_at = '2025-12-10 15:30:00' WHERE id = 6;
UPDATE posts SET created_at = '2025-12-12 13:25:00' WHERE id = 7;
UPDATE posts SET created_at = '2025-12-14 19:10:00' WHERE id = 8;
UPDATE posts SET created_at = '2025-12-16 08:45:00' WHERE id = 9;
UPDATE posts SET created_at = '2025-12-18 12:30:00' WHERE id = 10;
UPDATE posts SET created_at = '2025-12-20 17:20:00' WHERE id = 11;
UPDATE posts SET created_at = '2025-12-21 09:15:00' WHERE id = 12;
UPDATE posts SET created_at = '2025-12-22 14:50:00' WHERE id = 13;
UPDATE posts SET created_at = '2025-12-23 20:10:00' WHERE id = 14;
UPDATE posts SET created_at = '2025-12-24 11:30:00' WHERE id = 15;
UPDATE posts SET created_at = '2025-12-25 16:45:00' WHERE id = 16;
UPDATE posts SET created_at = '2025-12-26 10:20:00' WHERE id = 17;
UPDATE posts SET created_at = '2025-12-27 13:15:00' WHERE id = 18;
UPDATE posts SET created_at = '2025-12-28 18:30:00' WHERE id = 19;
UPDATE posts SET created_at = '2025-12-29 08:55:00' WHERE id = 20;
UPDATE posts SET created_at = '2025-12-30 15:10:00' WHERE id = 21;
UPDATE posts SET created_at = '2025-12-31 11:40:00' WHERE id = 22;
UPDATE posts SET created_at = '2026-01-01 14:25:00' WHERE id = 23;
UPDATE posts SET created_at = '2026-01-02 09:50:00' WHERE id = 24;

-- 调整浏览量，让一些帖子更受欢迎
UPDATE posts SET views = FLOOR(RAND() * 200) + 50;

-- 删除一些旧的测试帖子（ID 30及以后的）
DELETE FROM posts WHERE id >= 30;

-- 添加新的贴合大学生生活的帖子
INSERT INTO posts (title, content, user_id, board_id, created_at, views) VALUES
-- 学习交流版块（board_id = 2）
('期末复习求组队！一起刷高数题', '这学期高数太难了，有没有同学想一起复习的？可以约图书馆或者线上视频一起学习，互相监督！', 3, 2, '2025-12-20 19:30:00', 128),
('英语六级备考经验分享', '刚考完六级，感觉这次发挥不错！分享一下我的备考计划：每天坚持背50个单词+每周两套真题+听力精听训练', 5, 2, '2025-12-18 14:20:00', 89),
('专业课笔记交换贴', '我有计科、软工、网工等专业课的详细笔记，想交换其他专业的笔记，互相学习！', 7, 2, '2025-12-22 10:45:00', 156),
('考研自习室求推荐', '准备考研了，学校附近哪家自习室环境好、价格实惠？求学长学姐推荐！', 9, 2, '2025-12-25 16:30:00', 203),
('期末考试时间安排表', '各学院期末考试时间已经出来了，大家要注意查看教务系统，合理安排复习时间哦！', 1, 2, '2025-12-15 09:00:00', 312),

-- 技术支持版块（board_id = 1）
('Python数据分析项目求合作', '我有一个电商数据分析的项目想法，需要会Python、pandas、matplotlib的同学一起合作，有想法的私聊！', 6, 1, '2025-12-19 13:45:00', 145),
('Java课设求指导', 'Java课程设计要做一个小型管理系统，有没有大佬能给点思路或者代码参考？感激不尽！', 8, 1, '2025-12-21 15:20:00', 178),
('宿舍WiFi信号差怎么解决？', '我们宿舍在六楼角落，WiFi信号特别差，有什么好的解决办法吗？求技术大神指点！', 4, 1, '2025-12-23 20:10:00', 94),
('推荐几款好用的编程软件', 'VSCode、IntelliJ IDEA、PyCharm都用过了，还有没有其他好用的编程工具推荐？', 10, 1, '2025-12-24 11:25:00', 167),
('GitHub学生认证攻略', '刚成功申请了GitHub学生包，分享一下申请流程和注意事项，有需要的同学可以参考！', 2, 1, '2025-12-26 14:50:00', 231),

-- 校园生活版块（board_id = 4）
('学校食堂美食推荐榜', '三食堂二楼的麻辣香锅yyds！二食堂早餐的煎饼果子也不错，大家还有什么推荐？', 5, 4, '2025-12-17 12:30:00', 289),
('宿舍文化节活动报名', '下个月要举办宿舍文化节啦！有才艺表演、装饰比赛等活动，想参加的宿舍快来报名！', 1, 4, '2025-12-10 10:00:00', 156),
('校园卡丢了怎么办？', '今天在图书馆把校园卡弄丢了，应该去哪里补办？需要什么材料？急！', 3, 4, '2025-12-28 16:45:00', 87),
('体育选课求建议', '羽毛球、篮球、乒乓球哪个比较好过？有没有推荐的老师和上课时间？', 7, 4, '2025-12-29 09:20:00', 134),
('图书馆占座现象严重', '最近图书馆占座现象越来越严重了，有的座位一整天都没人来，大家有什么好的建议吗？', 9, 4, '2025-12-30 14:15:00', 198),

-- 休闲娱乐版块（board_id = 3）
('周末电影推荐', '这周打算在宿舍看电影，有没有什么好看的电影推荐？最近有什么新上映的好片？', 4, 3, '2025-12-16 19:40:00', 167),
('游戏开黑群招人', '王者荣耀、吃鸡、原神都有玩，建了个开黑群，想一起玩的同学可以加群，段位不限！', 6, 3, '2025-12-22 21:30:00', 245),
('学校周边KTV哪家好？', '这周末想和室友去唱歌，学校附近哪家KTV音质好、价格实惠？求推荐！', 8, 3, '2025-12-24 18:15:00', 123),
('有没有喜欢打篮球的？', '想组建一个篮球爱好者群，平时可以约球，周末也可以打比赛，有兴趣的同学留言！', 10, 3, '2025-12-27 16:50:00', 189),
('分享几个校园拍照打卡点', '图书馆后面的银杏林、教学楼天台、操场跑道都很出片！还有哪些地方适合拍照？', 2, 3, '2025-12-31 15:30:00', 276),

-- 置顶帖和公告帖
('[公告] 校园论坛使用规范', '欢迎各位同学使用校园论坛！请大家文明发言，遵守网络礼仪，共同维护良好的交流环境。', 1, 1, '2025-12-01 08:00:00', 456),
('[置顶] 网络安全知识普及', '近期网络诈骗案件增多，提醒同学们注意保护个人信息，谨防网络诈骗！', 1, 1, '2025-12-05 09:00:00', 389),
('[公告] 期末考试诚信倡议', '诚信考试，从我做起！希望大家认真复习，凭真才实学取得好成绩。', 1, 2, '2025-12-10 10:00:00', 423),
('[置顶] 寒假社会实践通知', '寒假社会实践报名开始啦！有意向参加的同学请关注学院通知，及时报名。', 1, 4, '2025-12-15 14:00:00', 367);

-- 先清空现有的回复，然后添加更多贴近大学生生活的回复
DELETE FROM replies;

-- 为各个帖子添加丰富的回复
INSERT INTO replies (content, post_id, user_id, created_at) VALUES
-- 学习相关帖子的回复
('我也在复习高数！可以一起学习，我一般在三区自习室', 25, 4, '2025-12-20 20:15:00'),
('高数第六章的习题特别难，有没有人会做？', 25, 6, '2025-12-20 21:30:00'),
('我整理了高数重点公式，可以分享给大家', 25, 8, '2025-12-21 09:45:00'),
('六级听力确实要多练，推荐每天听BBC新闻', 26, 2, '2025-12-18 16:20:00'),
('作文模板真的很重要，我这次作文分很高', 26, 7, '2025-12-19 10:30:00'),
('我有市场营销专业的笔记，可以交换吗？', 27, 5, '2025-12-22 14:30:00'),
('我有英语专业的笔记，求换计科笔记！', 27, 9, '2025-12-23 11:20:00'),
('学校对面的明德自习室不错，环境安静', 28, 3, '2025-12-25 18:45:00'),
('图书馆四楼自习区也很好，不用花钱', 28, 10, '2025-12-26 09:30:00'),

-- 技术相关帖子的回复
('我会Python数据分析，可以一起做项目！', 31, 7, '2025-12-19 15:30:00'),
('对电商数据分析很感兴趣，加我一个', 31, 9, '2025-12-20 11:45:00'),
('Java课设可以做图书馆管理系统，比较简单', 32, 1, '2025-12-21 17:20:00'),
('我有之前的课设代码，可以发给你参考', 32, 5, '2025-12-22 10:15:00'),
('建议买个WiFi信号放大器，效果不错', 33, 3, '2025-12-23 21:30:00'),
('可以申请换宿舍或者自己拉网线', 33, 8, '2025-12-24 09:45:00'),
('推荐Sublime Text，轻量快速', 34, 2, '2025-12-24 13:20:00'),
('GitHub学生包可以免费使用很多工具', 35, 6, '2025-12-26 16:30:00'),

-- 校园生活帖子的回复
('一食堂的牛肉面也很好吃！', 36, 4, '2025-12-17 13:45:00'),
('四食堂的麻辣烫才是yyds！', 36, 7, '2025-12-18 12:30:00'),
('我们宿舍想参加文化节，怎么报名？', 37, 9, '2025-12-10 14:20:00'),
('校园卡补办在行政楼一楼，带身份证', 38, 2, '2025-12-28 17:30:00'),
('选李老师的乒乓球课，给分很友好', 39, 6, '2025-12-29 11:45:00'),
('建议图书馆实行预约制，避免占座', 40, 8, '2025-12-30 16:20:00'),

-- 休闲娱乐帖子的回复
('推荐《星际穿越》，科幻经典', 41, 5, '2025-12-16 21:15:00'),
('《流浪地球2》也不错，特效很棒', 41, 9, '2025-12-17 20:30:00'),
('王者荣耀什么段位？可以一起排位', 42, 3, '2025-12-22 22:45:00'),
('我想加群，主要玩吃鸡', 42, 7, '2025-12-23 19:20:00'),
('学校对面的星光KTV音质不错', 43, 10, '2025-12-24 20:30:00'),
('篮球爱好者算我一个！', 44, 4, '2025-12-27 18:15:00'),
('操场晚上的灯光很适合拍照', 45, 6, '2026-01-01 16:45:00'),

-- 公告和置顶帖的回复
('支持！文明上网很重要', 46, 3, '2025-12-01 10:30:00'),
('收到，一定遵守规则', 46, 7, '2025-12-02 09:15:00'),
('网络诈骗要警惕，感谢提醒', 47, 5, '2025-12-05 11:20:00'),
('诚信考试，拒绝作弊！', 48, 9, '2025-12-10 14:45:00'),
('寒假实践去哪里报名？', 49, 4, '2025-12-15 16:30:00'),

-- 原有帖子的新回复（更贴近生活）
('GridBagLayout确实难用，建议用GroupLayout', 2, 5, '2025-12-04 15:30:00'),
('mysql-connector版本要对，不然会报错', 3, 8, '2025-12-06 12:45:00'),
('IDEA的debug功能确实强大', 4, 10, '2025-12-08 17:20:00'),
('Git用熟了就发现很好用', 5, 3, '2025-12-10 14:15:00'),
('建议用ClangFormat插件', 6, 7, '2025-12-11 16:30:00'),
('换User-Agent和IP试试', 7, 9, '2025-12-13 11:45:00'),
('软工笔记求分享！', 8, 4, '2025-12-15 20:30:00'),
('高数补考经验求详细！', 9, 6, '2025-12-17 09:15:00'),
('四级听力怎么练？', 10, 8, '2025-12-19 13:20:00');

-- 更新一些帖子的浏览量，让数据更真实
UPDATE posts SET views = 156 WHERE id = 1;
UPDATE posts SET views = 289 WHERE id = 2;
UPDATE posts SET views = 134 WHERE id = 3;
UPDATE posts SET views = 423 WHERE id = 4;
UPDATE posts SET views = 267 WHERE id = 5;
UPDATE posts SET views = 178 WHERE id = 6;
UPDATE posts SET views = 95 WHERE id = 7;
UPDATE posts SET views = 312 WHERE id = 8;
UPDATE posts SET views = 189 WHERE id = 9;
UPDATE posts SET views = 256 WHERE id = 10;
UPDATE posts SET views = 167 WHERE id = 11;
UPDATE posts SET views = 234 WHERE id = 12;
UPDATE posts SET views = 145 WHERE id = 13;
UPDATE posts SET views = 321 WHERE id = 14;
UPDATE posts SET views = 278 WHERE id = 15;
UPDATE posts SET views = 198 WHERE id = 16;
UPDATE posts SET views = 156 WHERE id = 17;
UPDATE posts SET views = 123 WHERE id = 18;
UPDATE posts SET views = 89 WHERE id = 19;
UPDATE posts SET views = 167 WHERE id = 20;
UPDATE posts SET views = 234 WHERE id = 21;
UPDATE posts SET views = 156 WHERE id = 22;
UPDATE posts SET views = 112 WHERE id = 23;
UPDATE posts SET views = 145 WHERE id = 24;

-- 设置一些帖子为置顶
UPDATE posts SET pinned = 1 WHERE id IN (46, 47, 48, 49, 36); -- 公告和美食推荐帖置顶

-- 更新用户的邮箱信息，让信息更完整
UPDATE users SET email = 'zhangsan@student.edu.cn' WHERE id = 2;
UPDATE users SET email = 'lisi@student.edu.cn' WHERE id = 3;
UPDATE users SET email = 'wangwu@student.edu.cn' WHERE id = 4;
UPDATE users SET email = 'xiaoming@student.edu.cn' WHERE id = 5;
UPDATE users SET email = 'xiaowang@student.edu.cn' WHERE id = 6;
UPDATE users SET email = 'zhangwei@student.edu.cn' WHERE id = 7;
UPDATE users SET email = 'sunli@student.edu.cn' WHERE id = 8;
UPDATE users SET email = 'linjie@student.edu.cn' WHERE id = 9;
UPDATE users SET email = 'gaoyue@student.edu.cn' WHERE id = 10;

-- 更新一些用户的角色，让管理员和版主更合理
UPDATE users SET role = 'admin' WHERE username = 'admin';
UPDATE users SET role = 'moderator' WHERE username IN ('zhangsan', 'xiaoming');
UPDATE users SET role = 'user' WHERE username NOT IN ('admin', 'zhangsan', 'xiaoming');

-- 添加更多用户（如果需要）
INSERT INTO users (username, password, role, email) VALUES
                                                        ('student01', '123456', 'user', 'student01@student.edu.cn'),
                                                        ('student02', '123456', 'user', 'student02@student.edu.cn'),
                                                        ('student03', '123456', 'user', 'student03@student.edu.cn'),
                                                        ('student04', '123456', 'user', 'student04@student.edu.cn');

-- 最后，添加一些点赞数据（如果点赞表已存在）
-- 假设点赞表已经创建好
INSERT INTO post_likes (user_id, post_id, created_at) VALUES
                                                          (2, 1, '2025-12-02 10:30:00'),
                                                          (3, 1, '2025-12-03 14:20:00'),
                                                          (4, 2, '2025-12-04 16:45:00'),
                                                          (5, 3, '2025-12-05 09:15:00'),
                                                          (6, 4, '2025-12-06 11:30:00'),
                                                          (7, 5, '2025-12-07 13:45:00'),
                                                          (8, 6, '2025-12-08 15:20:00'),
                                                          (9, 7, '2025-12-09 17:30:00'),
                                                          (10, 8, '2025-12-10 19:45:00'),
                                                          (2, 9, '2025-12-11 08:30:00'),
                                                          (3, 10, '2025-12-12 10:15:00'),
                                                          (4, 11, '2025-12-13 12:45:00'),
                                                          (5, 12, '2025-12-14 14:30:00'),
                                                          (6, 13, '2025-12-15 16:15:00'),
                                                          (7, 14, '2025-12-16 18:45:00'),
                                                          (8, 15, '2025-12-17 20:30:00'),
                                                          (9, 16, '2025-12-18 22:15:00'),
                                                          (10, 25, '2025-12-21 08:45:00'), -- 新帖子的点赞
                                                          (2, 26, '2025-12-19 10:30:00'),
                                                          (3, 27, '2025-12-23 14:15:00'),
                                                          (4, 28, '2025-12-26 16:45:00'),
                                                          (5, 31, '2025-12-20 09:30:00'),
                                                          (6, 32, '2025-12-22 11:45:00'),
                                                          (7, 36, '2025-12-18 13:15:00'),
                                                          (8, 41, '2025-12-17 15:30:00'),
                                                          (9, 42, '2025-12-23 17:45:00'),
                                                          (10, 46, '2025-12-02 19:30:00');